class Offer {
  final String id;
  final String companyName;
  final String logoUrl;
  final String imageUrl;
  final String reward;
  final String description;
  final String category;
  final String offerUrl;
  final String registrationUrl; // URL to register in company's affiliate program
  final double rating;
  final String usersCount;
  final bool isRegistered; // Has user registered with company?

  Offer({
    required this.id,
    required this.companyName,
    required this.logoUrl,
    required this.imageUrl,
    required this.reward,
    required this.description,
    required this.category,
    required this.offerUrl,
    required this.registrationUrl,
    required this.rating,
    required this.usersCount,
    this.isRegistered = false,
  });

  // ✨ إضافة: تحويل من JSON (من Supabase)
  factory Offer.fromJson(Map<String, dynamic> json) {
    return Offer(
      id: json['id'] ?? '',
      companyName: json['company_name'] ?? json['companyName'] ?? '',
      logoUrl: json['logo_url'] ?? json['logoUrl'] ?? '',
      imageUrl: json['banner_url'] ?? json['imageUrl'] ?? json['logo_url'] ?? '',
      reward: json['reward'] ?? 'مكافأة',
      description: json['description'] ?? '',
      category: json['category'] ?? 'عام',
      offerUrl: json['registration_url'] ?? json['offerUrl'] ?? '',
      registrationUrl: json['registration_url'] ?? json['registrationUrl'] ?? '',
      rating: (json['rating'] ?? 4.5).toDouble(),
      usersCount: json['users_count']?.toString() ?? json['usersCount'] ?? '0',
      isRegistered: json['is_registered'] ?? json['isRegistered'] ?? false,
    );
  }

  // ✨ إضافة: تحويل إلى JSON (للحفظ في Supabase)
  Map<String, dynamic> toJson() {
    return {
      'id': id,
      'company_name': companyName,
      'logo_url': logoUrl,
      'banner_url': imageUrl,
      'reward': reward,
      'description': description,
      'category': category,
      'registration_url': registrationUrl,
      'rating': rating,
      'users_count': usersCount,
      'is_registered': isRegistered,
    };
  }

  // Sample data for testing
  static List<Offer> getSampleOffers() {
    return [
      // Crypto Category (4 offers)
      Offer(
        id: '1',
        companyName: 'Binance',
        logoUrl: 'https://logo.clearbit.com/binance.com',
        imageUrl: 'https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800',
        reward: 'Earn \$10 per Signup',
        description: 'Get \$10 bonus for every verified referral',
        category: 'Crypto',
        offerUrl: 'https://www.binance.com/en/activity/referral',
        registrationUrl: 'https://www.binance.com/en/activity/referral/affiliate/register',
        rating: 4.7,
        usersCount: '500K+',
      ),
      Offer(
        id: '2',
        companyName: 'Coinbase',
        logoUrl: 'https://logo.clearbit.com/coinbase.com',
        imageUrl: 'https://images.unsplash.com/photo-1622630998477-20aa696ecb05?w=800',
        reward: '\$10 Bitcoin Bonus',
        description: 'Earn \$10 in Bitcoin for each referral',
        category: 'Crypto',
        offerUrl: 'https://www.coinbase.com/join',
        registrationUrl: 'https://www.coinbase.com/join/affiliate/register',
        rating: 4.6,
        usersCount: '300K+',
      ),
      Offer(
        id: '3',
        companyName: 'Crypto.com',
        logoUrl: 'https://logo.clearbit.com/crypto.com',
        imageUrl: 'https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=800',
        reward: '\$25 Sign Up Bonus',
        description: 'Get \$25 when you stake CRO',
        category: 'Crypto',
        offerUrl: 'https://crypto.com/app',
        registrationUrl: 'https://crypto.com/app/affiliate/register',
        rating: 4.5,
        usersCount: '200K+',
      ),
      Offer(
        id: '4',
        companyName: 'Kraken',
        logoUrl: 'https://logo.clearbit.com/kraken.com',
        imageUrl: 'https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800',
        reward: '\$10 Trading Credit',
        description: 'Earn \$10 for each verified referral',
        category: 'Crypto',
        offerUrl: 'https://www.kraken.com/sign-up',
        registrationUrl: 'https://www.kraken.com/sign-up/affiliate/register',
        rating: 4.4,
        usersCount: '150K+',
      ),

      // Shopping Category (5 offers)
      Offer(
        id: '5',
        companyName: 'Amazon',
        logoUrl: 'https://logo.clearbit.com/amazon.com',
        imageUrl: 'https://images.unsplash.com/photo-1523474253046-8cd2748b5fd2?w=800',
        reward: '8% Cashback',
        description: 'Earn 8% cashback on all purchases',
        category: 'Shopping',
        offerUrl: 'https://www.amazon.com',
        registrationUrl: 'https://www.amazon.com/affiliate/register',
        rating: 4.9,
        usersCount: '1M+',
      ),
      Offer(
        id: '6',
        companyName: 'Nike',
        logoUrl: 'https://logo.clearbit.com/nike.com',
        imageUrl: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=800',
        reward: '15% Off First Order',
        description: 'Get 15% discount on your first purchase',
        category: 'Shopping',
        offerUrl: 'https://www.nike.com',
        registrationUrl: 'https://www.nike.com/affiliate/register',
        rating: 4.8,
        usersCount: '400K+',
      ),
      Offer(
        id: '7',
        companyName: 'SHEIN',
        logoUrl: 'https://logo.clearbit.com/shein.com',
        imageUrl: 'https://images.unsplash.com/photo-1445205170230-053b83016050?w=800',
        reward: '20% Off + Free Shipping',
        description: 'Get 20% off and free shipping on first order',
        category: 'Shopping',
        offerUrl: 'https://www.shein.com',
        registrationUrl: 'https://www.shein.com/affiliate/register',
        rating: 4.6,
        usersCount: '350K+',
      ),
      Offer(
        id: '8',
        companyName: 'AliExpress',
        logoUrl: 'https://logo.clearbit.com/aliexpress.com',
        imageUrl: 'https://images.unsplash.com/photo-1472851294608-062f824d29cc?w=800',
        reward: '\$5 Coupon',
        description: 'Get \$5 off on orders over \$50',
        category: 'Shopping',
        offerUrl: 'https://www.aliexpress.com',
        registrationUrl: 'https://www.aliexpress.com/affiliate/register',
        rating: 4.5,
        usersCount: '600K+',
      ),
      Offer(
        id: '9',
        companyName: 'Zara',
        logoUrl: 'https://logo.clearbit.com/zara.com',
        imageUrl: 'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=800',
        reward: '10% Student Discount',
        description: 'Students get 10% off all items',
        category: 'Shopping',
        offerUrl: 'https://www.zara.com',
        registrationUrl: 'https://www.zara.com/affiliate/register',
        rating: 4.7,
        usersCount: '250K+',
      ),

      // Services Category (4 offers)
      Offer(
        id: '10',
        companyName: 'Uber',
        logoUrl: 'https://logo.clearbit.com/uber.com',
        imageUrl: 'https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=800',
        reward: '\$15 Off First Ride',
        description: 'Get \$15 off your first Uber ride',
        category: 'Services',
        offerUrl: 'https://www.uber.com',
        registrationUrl: 'https://www.uber.com/affiliate/register',
        rating: 4.6,
        usersCount: '800K+',
      ),
      Offer(
        id: '11',
        companyName: 'Shopify',
        logoUrl: 'https://logo.clearbit.com/shopify.com',
        imageUrl: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800',
        reward: '14-Day Free Trial',
        description: 'Start your online store with free trial',
        category: 'Services',
        offerUrl: 'https://www.shopify.com',
        registrationUrl: 'https://www.shopify.com/affiliate/register',
        rating: 4.7,
        usersCount: '200K+',
      ),
      Offer(
        id: '12',
        companyName: 'Fiverr',
        logoUrl: 'https://logo.clearbit.com/fiverr.com',
        imageUrl: 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=800',
        reward: '20% Off First Order',
        description: 'Get 20% discount on your first service',
        category: 'Services',
        offerUrl: 'https://www.fiverr.com',
        registrationUrl: 'https://www.fiverr.com/affiliate/register',
        rating: 4.6,
        usersCount: '180K+',
      ),
      Offer(
        id: '13',
        companyName: 'Upwork',
        logoUrl: 'https://logo.clearbit.com/upwork.com',
        imageUrl: 'https://images.unsplash.com/photo-1553877522-43269d4ea984?w=800',
        reward: '\$100 Credit',
        description: 'Get \$100 credit for your first project',
        category: 'Services',
        offerUrl: 'https://www.upwork.com',
        registrationUrl: 'https://www.upwork.com/affiliate/register',
        rating: 4.5,
        usersCount: '220K+',
      ),

      // Finance Category (4 offers)
      Offer(
        id: '14',
        companyName: 'PayPal',
        logoUrl: 'https://logo.clearbit.com/paypal.com',
        imageUrl: 'https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800',
        reward: '\$10 Welcome Bonus',
        description: 'Get \$10 when you sign up and make first transaction',
        category: 'Finance',
        offerUrl: 'https://www.paypal.com',
        registrationUrl: 'https://www.paypal.com/affiliate/register',
        rating: 4.8,
        usersCount: '900K+',
      ),
      Offer(
        id: '15',
        companyName: 'Revolut',
        logoUrl: 'https://logo.clearbit.com/revolut.com',
        imageUrl: 'https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800',
        reward: '\$20 Bonus',
        description: 'Invite 3 friends and get \$20',
        category: 'Finance',
        offerUrl: 'https://www.revolut.com',
        registrationUrl: 'https://www.revolut.com/affiliate/register',
        rating: 4.7,
        usersCount: '300K+',
      ),
      Offer(
        id: '16',
        companyName: 'Wise',
        logoUrl: 'https://logo.clearbit.com/wise.com',
        imageUrl: 'https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=800',
        reward: 'Free Transfer up to \$500',
        description: 'First international transfer is free',
        category: 'Finance',
        offerUrl: 'https://wise.com',
        registrationUrl: 'https://wise.com/affiliate/register',
        rating: 4.6,
        usersCount: '250K+',
      ),
      Offer(
        id: '17',
        companyName: 'Robinhood',
        logoUrl: 'https://logo.clearbit.com/robinhood.com',
        imageUrl: 'https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800',
        reward: 'Free Stock Worth up to \$200',
        description: 'Get a free stock when you join',
        category: 'Finance',
        offerUrl: 'https://robinhood.com',
        registrationUrl: 'https://robinhood.com/affiliate/register',
        rating: 4.3,
        usersCount: '400K+',
      ),

      // Travel Category (4 offers)
      Offer(
        id: '18',
        companyName: 'Airbnb',
        logoUrl: 'https://logo.clearbit.com/airbnb.com',
        imageUrl: 'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=800',
        reward: '\$40 Off First Booking',
        description: 'Get \$40 discount on your first stay',
        category: 'Travel',
        offerUrl: 'https://www.airbnb.com',
        registrationUrl: 'https://www.airbnb.com/affiliate/register',
        rating: 4.8,
        usersCount: '700K+',
      ),
      Offer(
        id: '19',
        companyName: 'Booking.com',
        logoUrl: 'https://logo.clearbit.com/booking.com',
        imageUrl: 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800',
        reward: '15% Off Hotels',
        description: 'Get 15% discount on hotel bookings',
        category: 'Travel',
        offerUrl: 'https://www.booking.com',
        registrationUrl: 'https://www.booking.com/affiliate/register',
        rating: 4.7,
        usersCount: '600K+',
      ),
      Offer(
        id: '20',
        companyName: 'Expedia',
        logoUrl: 'https://logo.clearbit.com/expedia.com',
        imageUrl: 'https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=800',
        reward: '\$50 Travel Credit',
        description: 'Get \$50 credit for your next trip',
        category: 'Travel',
        offerUrl: 'https://www.expedia.com',
        registrationUrl: 'https://www.expedia.com/affiliate/register',
        rating: 4.6,
        usersCount: '500K+',
      ),
      Offer(
        id: '21',
        companyName: 'Skyscanner',
        logoUrl: 'https://logo.clearbit.com/skyscanner.com',
        imageUrl: 'https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=800',
        reward: 'Best Price Guarantee',
        description: 'Find the cheapest flights worldwide',
        category: 'Travel',
        offerUrl: 'https://www.skyscanner.com',
        registrationUrl: 'https://www.skyscanner.com/affiliate/register',
        rating: 4.5,
        usersCount: '400K+',
      ),
    ];
  }
}

